## 1、负载均衡(Load Balancer)

它作为一个反向代理角色，将请求转发到多个服务器上，以提高应用的并发能力。

负载均衡一般分为两类：Layer 4 和 Layer 7。

**Layer4(`L4`)**：基于网络层和运输层协议的数据进行，如IP、TCP、FTP、UDP；

**Layer7(`L7`)**：基于应用层协议数据进行，如HTTP。例如它可以基于HTTP请求头部的cookie来决定转发规则。

在OSI7层模型中，网络防火墙在1-3层（物理层、链路层、网络层），而负载均衡作用于4-7层（传输层、会话层、表示层、应用层）。

![OSI7层模型](./img/osi7.jpeg)

## 2、老司机经常提到的`L5`是什么？

**L5**: 负载均衡Layer 5，表示作用于OSI模型第五层（**会话层**）的负载均衡。

## 3、STGW

STGW(*Secure Tencent GateWay*)，是一个应用层流量的接入转发平台，提供稳定、高效、安全的流量接入服务。

主要功能：

- 接入转发  
  URL转发：根据URL转发到不同业务服务器；
- 负载均衡
- 访问加速
- 多协议卸载  
  将客户端过来的协议卸载成HTTP1.1/1.0，转发给业务端；再将业务端返回的HTTP1.1/1.0还原成客户端发起的协议，继而返回给客户端。
- 安全防攻击
- 流量质量分析
- etc.

实际上，

    STGW = TGW + nginx + 加解密

## 4、TGW

TGW(*Secure Tencent GateWay*)，是负载均衡，在公司内部叫惯TGW了。

## 5、CLB

CLB(*Cloud Load Balancer*)，腾讯云负载均衡器。它是基于STGW构建。
